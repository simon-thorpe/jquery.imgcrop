!function(a){var b={ratio:function(a){var b=a.item,c=a.settings;return{w:b.width()/c.wrapperWidth,h:b.height()/c.wrapperHeight}},center:function(a,b){return parseInt((a-b)/2,10)},scaleToFill:function(a){var c=a.item,d=a.settings,e=d.ratio,f=c.width(),g=c.height(),h={top:0,left:0};return e.h>e.w?(f=d.wrapperWidth,g/=e.w,d.center&&(h.top=b.center(f,g))):(g=d.wrapperHeight,f/=e.h,d.center&&(h.left=b.center(g,f))),d.center&&(a.wrapper.css("position","relative"),c.css({position:"absolute",top:["-",h.top,"px"].join(""),left:h.left+"px"})),c.height(g).attr("height",g+"px").width(f).attr("width",f+"px")},scaleToFit:function(a){var c=a.item,d=a.settings,e=d.ratio,f=c.width(),g=c.height(),h={top:0,left:0};return e.h>e.w?(g=d.wrapperHeight,f=parseInt(c.width()*d.wrapperHeight/c.height(),10),d.center&&(h.left=b.center(g,f))):(g=parseInt(c.height()*d.wrapperWidth/c.width(),10),f=d.wrapperWidth,d.center&&(h.top=b.center(f,g))),a.wrapper.css({width:d.wrapperWidth+"px",height:d.wrapperHeight+"px"}),d.center&&(a.wrapper.css("position","relative"),c.css({position:"absolute",top:h.top+"px",left:h.left+"px"})),c.height(g).attr("height",g+"px").width(f).attr("width",f+"px")},init:function(c){var d=a.extend({wrapperSelector:null,wrapperWidth:100,wrapperHeight:100,center:!0,fill:!0,initClass:"imgcrop-init",doneEvent:"imgcropdone"},c),e=function(){var c=a(this),e=d.wrapperSelector?c.closest(d.wrapperSelector):c.parent(),f={item:c,settings:d,wrapper:e};d.ratio=b.ratio(f),d.fill?(e.css({overflow:"hidden",width:d.wrapperWidth+"px",height:d.wrapperHeight+"px"}),b.scaleToFill(f)):b.scaleToFit(f),c.data("fc.settings",d).addClass(d.initClass).trigger(d.doneEvent);var g=e.width(),h=e.height(),i=c.width(),j=c.height();c.css(i>g?{left:"-"+(i-g)/2+"px"}:{left:0}),j>h&&c.css({top:"-"+(j-h)/2+"px"})},f=this.filter("img"),g=this.filter(":not(img)");return f.each(function(){var b=a(this),c=a("<img>").attr("src",a(this).attr("src"));c.bind("load",function(){e.call(b),b.get(0).style.display="inline"})}),g.length&&g.each(e),this}};a.fn.imgcrop=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.imgcrop"):b.init.apply(this,arguments)};var c=function(){a("img[data-crop-width]").each(function(){var b=parseInt(a(this).attr("data-crop-width")),c=parseInt(a(this).attr("data-crop-height")),d=a("<div/>").addClass("imgcrop-wrapper");a(this).removeAttr("data-crop-width"),a(this).removeAttr("data-crop-height"),a(this).wrap(d).imgcrop({wrapperWidth:b,wrapperHeight:c})}),a("[data-crop-width]>img").each(function(){var b=a(this).parent(),c=parseInt(b.attr("data-crop-width")),d=parseInt(b.attr("data-crop-height"));b.addClass("imgcrop-wrapper").css({display:"block"}),b.removeAttr("data-crop-width"),b.removeAttr("data-crop-height"),a(this).imgcrop({wrapperWidth:c,wrapperHeight:d})})};c(),"undefined"!=typeof Sys&&Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function(){c()})}(jQuery);